/* Import Google Font */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap');

/* Base Font Settings */
html, body, .font-bengali, * {
  font-family: 'Noto Sans Bengali', 'Hind Siliguri', 'SolaimanLipi', Arial, sans-serif;
}

/* =============================================
   CSS VARIABLES (Design Tokens)
   ============================================= */
:root {
  /* Layout */
  --sidebar-width: 13rem;
  --header-height: 4rem; /* Consistent header height */

  /* Colors - Light */
  --color-primary: 59 130 246;    /* blue-500 */
  --color-secondary: 139 92 246; /* violet-500 */
  --color-success: 16 185 129;   /* emerald-500 */
  --color-warning: 245 158 11;  /* amber-500 */
  --color-danger: 239 68 68;    /* red-500 */

  /* Colors - Dark */
  --color-dark-bg: 15 23 42;      /* slate-900 */
  --color-dark-surface: 30 41 59; /* slate-800 */
  --color-dark-border: 51 65 85;  /* slate-700 */

  /* Transitions */
  --transition-fast: 0.2s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
}

/* =============================================
   SCROLLBAR STYLES
   ============================================= */

/* General Scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.4); /* gray-400 with opacity */
  border-radius: var(--radius-full);
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 114, 128, 0.6); /* gray-500 with opacity */
}
.dark ::-webkit-scrollbar-thumb {
  background: rgba(71, 85, 105, 0.5); /* slate-600 with opacity */
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.7); /* slate-500 with opacity */
}


/* Sidebar Specific Scrollbar (if needed, otherwise general applies) */
.sidebar-scrollbar::-webkit-scrollbar {
  width: 4px;
}
.sidebar-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
}
.dark .sidebar-scrollbar::-webkit-scrollbar-thumb {
   background: rgba(71, 85, 105, 0.6);
}

/* Table Specific Horizontal Scrollbar */
.table-scrollbar::-webkit-scrollbar {
  height: 8px; /* Slightly thicker for easier grabbing */
}
.table-scrollbar::-webkit-scrollbar-track {
  background: #f1f1f1; /* Light grey track */
  border-radius: var(--radius-full);
}
.table-scrollbar::-webkit-scrollbar-thumb {
  background: #c1c1c1; /* Medium grey thumb */
  border-radius: var(--radius-full);
}
.dark .table-scrollbar::-webkit-scrollbar-track {
  background: #374151; /* Darker track */
}
.dark .table-scrollbar::-webkit-scrollbar-thumb {
  background: #6b7280; /* Lighter grey thumb for dark mode */
}


/* =============================================
   BASE STYLES & UTILITIES
   ============================================= */

/* Smooth Transitions */
.transition-all { transition: all var(--transition-normal); }
.transition-fast { transition: all var(--transition-fast); }
.transition-slow { transition: all var(--transition-slow); }

/* Display Utility */
.privet { display: none !important; } /* Use sparingly */

/* Transform Utilities */
.rotate-180 { transform: rotate(180deg); }

/* Disabled State */
.disabled-nav {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
}

/* =============================================
   LAYOUT STYLES
   ============================================= */

/* Page content margin based on sidebar */
.page-content {
    margin-left: 0; /* Default for mobile */
    transition: margin-left var(--transition-normal);
}
@media (min-width: 1024px) { /* lg breakpoint */
    .page-content {
        margin-left: var(--sidebar-width);
    }
}

/* Mobile Sidebar Behavior */
.mobile-sidebar {
    transform: translateX(-100%);
    width: var(--sidebar-width);
}
.mobile-sidebar.active {
    transform: translateX(0);
}
.mobile-menu-overlay {
  background: rgba(30, 41, 59, 0.6); /* slate-800 */
  backdrop-filter: blur(4px);
  opacity: 0;
  visibility: hidden;
  transition: opacity var(--transition-normal), visibility var(--transition-normal);
}
.mobile-menu-overlay:not(.privet) {
  opacity: 1;
  visibility: visible;
}


/* =============================================
   COMPONENT STYLES
   ============================================= */

/* Modal Backdrop & Content */
.modal-backdrop {
  background-color: rgba(var(--color-dark-bg), 0.6);
  backdrop-filter: blur(5px);
}
.modal-content {
  animation: modalEnter var(--transition-slow) forwards;
}

/* Glass Card Effect */
.glass-card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-xl);
}
.dark .glass-card {
  background: rgba(var(--color-dark-surface), 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Card Hover */
.card-hover { transition: transform var(--transition-normal), box-shadow var(--transition-normal); }
.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
}
.dark .card-hover:hover {
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.4);
}

/* Progress Bar */
.progress-bar {
  height: 8px;
  background-color: #e5e7eb; /* gray-200 */
  border-radius: var(--radius-full);
  overflow: hidden;
}
.dark .progress-bar { background-color: #4b5563; /* gray-600 */ }
.progress-fill {
  height: 100%;
  border-radius: var(--radius-full);
  transition: width var(--transition-slow);
}

/* Loading Spinner */
.loading-spinner {
  border: 3px solid #f3f4f6; /* gray-100 */
  border-top: 3px solid rgb(var(--color-primary));
  border-radius: 50%;
  width: 30px;
  height: 30px;
  animation: spin 1s linear infinite;
}
.dark .loading-spinner {
   border-color: #4b5563; /* gray-600 */
   border-top-color: rgb(var(--color-primary));
}

/* Rank Badges */
.rank-1, .rank-2, .rank-3, .rank-other {
    color: white;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    padding: 2px 8px; /* Example padding */
    border-radius: var(--radius-full); /* Example radius */
    font-size: 0.75rem; /* Example size */
    font-weight: 600; /* Example weight */
    display: inline-block;
}
.rank-1 { background: linear-gradient(135deg, #fbbf24, #f59e0b); } /* amber-400, amber-500 */
.rank-2 { background: linear-gradient(135deg, #d1d5db, #9ca3af); } /* gray-300, gray-400 */
.rank-3 { background: linear-gradient(135deg, #f97316, #ea580c); } /* orange-500, orange-600 */
.rank-other { background: linear-gradient(135deg, #6b7280, #4b5563); } /* gray-500, gray-600 */

.dark .rank-other { background: linear-gradient(135deg, #4b5563, #374151); } /* gray-600, gray-700 */

/* Role Badges */
.member-role-badge {
  display: inline-block;
  padding: 3px 10px;
  border-radius: var(--radius-full);
  font-size: 0.7rem;
  font-weight: 500;
  color: white;
  text-align: center;
  white-space: nowrap;
}
.member-role-badge.team-leader { background-color: rgb(var(--color-primary)); }
.member-role-badge.time-keeper { background-color: rgb(var(--color-success)); }
.member-role-badge.reporter { background-color: rgb(var(--color-warning)); }
.member-role-badge.resource-manager { background-color: rgb(var(--color-secondary)); }
.member-role-badge.peace-maker { background-color: #ec4899; } /* pink-500 */

/* Skill Badge (from developer modal) */
.skill-badge {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}
.dark .skill-badge {
  background: rgba(var(--color-dark-surface), 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Buttons */
.nav-btn {
  background-color: transparent;
  color: inherit;
  transition: background-color var(--transition-fast), color var(--transition-fast), transform var(--transition-fast);
  cursor: pointer;
  border: none;
  outline: none;
  display: flex; /* Ensure alignment */
  align-items: center; /* Ensure alignment */
  width: 100%;
  text-align: left;
}
.nav-btn:hover {
    background-color: rgba(var(--color-primary), 0.1);
    color: rgb(var(--color-primary));
}
.dark .nav-btn:hover {
     background-color: rgba(var(--color-primary), 0.2);
     color: #93c5fd; /* blue-300 */
}
.nav-btn.active {
    background-color: rgba(var(--color-primary), 0.15);
    color: rgb(var(--color-primary));
    font-weight: 600;
}
.dark .nav-btn.active {
    background-color: rgba(var(--color-primary), 0.3);
    color: #60a5fa; /* blue-400 */
}

.whatsapp-btn { background: linear-gradient(135deg, #25d366, #128c7e); } /* Original WA colors */
.email-btn { background: linear-gradient(135deg, #ef4444, #dc2626); } /* red-500, red-600 */
.website-btn { background: linear-gradient(135deg, #3b82f6, #1d4ed8); } /* blue-500, blue-700 */

/* Developer Button Glow */
#developerInfoBtn, #openProfileModal { animation: glow-shadow 3s ease-in-out infinite; }
#developerInfoBtn:hover, #openProfileModal:hover { animation: glow-shadow 1s ease-in-out infinite; }

/* Ripple Effect (requires specific HTML structure) */
.group:hover .ripple { animation: ripple 0.6s ease-out; }

/* Special Sections */
.developer-section {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
}
.dark .developer-section {
  background: linear-gradient(135deg, #4c51bf, #7e22ce);
}

/* Toast Notifications */
.toast { z-index: 100; }

/* Responsive Table Container */
.responsive-table, .table-scrollbar {
  width: 100%;
  overflow-x: auto;
}

/* Job Item Layout (Developer Modal) */
.job-item { display: flex; align-items: flex-start; gap: 12px; }
.job-content { flex: 1; min-width: 0; }
.job-badge { flex-shrink: 0; margin-top: 2px; }
.job-text { word-wrap: break-word; overflow-wrap: break-word; }
.full-time-badge, .part-time-badge { white-space: nowrap; }

/* Tech Icons (Developer Modal) */
.tech-icon { transition: transform var(--transition-normal); }
.tech-icon:hover { transform: translateY(-3px); }


/* =============================================
   ANIMATIONS & KEYFRAMES
   ============================================= */
@keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes pulse-slow { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
@keyframes glow-shadow { 0%, 100% { box-shadow: 0 0 20px rgba(168, 85, 247, 0.4); } 50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.6); } }
@keyframes glow-opacity { 0%, 100% { opacity: 0.4; filter: blur(1px); } 50% { opacity: 0.7; filter: blur(3px); } }
@keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-3px); } }
@keyframes ripple { to { transform: scale(4); opacity: 0; } }
@keyframes modalEnter { from { transform: scale(0.9) translateY(-10px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
@keyframes floating { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
@keyframes shine { 0% { transform: translateX(-100%) skewX(-12deg); } 50% { transform: translateX(200%) skewX(-12deg); } 100% { transform: translateX(-100%) skewX(-12deg); } }
@keyframes rotateIcon { 0%, 100% { transform: rotate(0deg); } 50% { transform: rotate(360deg); } }

/* Animation Utility Classes */
.animate-slide-in { animation: slideIn 0.5s ease forwards; }
.animate-fadeIn { animation: fadeIn 0.8s ease-out forwards; }
.animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
.animate-spin-slow { animation: spin-slow 10s linear infinite; }
.animate-glow-shadow { animation: glow-shadow 3s ease-in-out infinite; }
.animate-glow-opacity { animation: glow-opacity 3s ease-in-out infinite; }
.animate-float { animation: float 3s ease-in-out infinite; }
.animate-shine { animation: shine 2s linear infinite; }
.animate-rotate { animation: rotateIcon 5s linear infinite; }
.modal-enter { animation: modalEnter 0.3s ease-out forwards; }


/* =============================================
   CHART & VISUALIZATION STYLES
   ============================================= */
.chart-container {
  position: relative;
  height: 300px; /* Default height, can be overridden */
  width: 100%;
}
canvas {
  max-width: 100%;
  height: auto !important; /* Ensure Chart.js respects container */
}

/* =============================================
   RESPONSIVE DESIGN
   ============================================= */

/* Mobile (≤ 1023px, since lg is 1024px) */
@media (max-width: 1023px) {
  .mobile-sidebar { transform: translateX(-100%); }
  .mobile-sidebar.active { transform: translateX(0); }
  .page-content { margin-left: 0; }
}

/* Tablet (md: 768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
    /* Adjustments for tablets if needed */
}

/* Small Mobile (≤ 640px) */
@media (max-width: 640px) {
  .chart-container { height: 250px; } /* Smaller charts on small screens */

  /* Make filter/search sections stack */
   #page-members .grid-cols-3,
   #page-all-students .grid-cols-3,
   #page-admin-management .md\:flex-row {
     grid-template-columns: 1fr;
     flex-direction: column;
   }
}


/* =============================================
   ACCESSIBILITY & PERFORMANCE
   ============================================= */

/* Ensure dropdowns aren't clipped */
#page-members .rounded-xl.p-6 { overflow: visible; }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .transition-all, .transition-fast, .transition-slow,
  .card-hover, .progress-fill, .group-ranking-card, .nav-btn, .tech-icon {
    transition: none;
  }
  .animate-slide-in, .animate-fadeIn, .animate-pulse-slow, .animate-spin-slow,
  .animate-glow-shadow, .animate-glow-opacity, .animate-float, .loading-spinner,
  .modal-content, .animate-shine, .animate-rotate, .floating {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .glass-card { background: white; border: 2px solid black; }
  .dark .glass-card { background: black; border: 2px solid white; }
  /* Add more high-contrast overrides as needed */
}

/* Theme transition */
.theme-transition { transition: background-color var(--transition-normal), color var(--transition-normal); }

/* Additional Styles from end of original file */
.skill-icon { transition: transform var(--transition-normal); }
.skill-item:hover .skill-icon { transform: scale(1.1); }
.profile-image { box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
.gradient-bg { background: linear-gradient(135deg, #667eea, #764ba2); } /* Consolidated */
.floating { animation: floating 3s ease-in-out infinite; } /* Different from float */
.dark-mode-toggle { background: linear-gradient(135deg, #4a5568, #2d3748); }
.light-mode-toggle { background: linear-gradient(135deg, #f7fafc, #edf2f7); }


/* Ensure modal z-index works */
.modal-backdrop { z-index: 50; }
.modal-content { position: relative; z-index: 100; } /* Ensure content is above backdrop */